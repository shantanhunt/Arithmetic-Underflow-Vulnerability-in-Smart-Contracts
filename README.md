# Arithmetic-Underflow-Vulnerability-in-Smart-Contracts

## Steps to Implement an attack on Vulnerability
1) Set VALUE as 500000000 wei. 
<p align="center">
<br><img width="350" align = "center" src="./Images/Capture.PNG">
</p>
2) Call sendEtherToSmartContract(). This will send 500000000 wei to the smart contract.
<p align="center">
<br><img width="250" src="./Images/Capture-2.png">
</p>
   Then call the getContractBalance() to see the updated balance of the smart contract. 
<p align="center">
<br><img width="250" src="./Images/Capture-1.2.PNG">
</p>
3) Switch to another address which contains 100 ether.
<p align="center">
      <br><img width="250" src="./Images/Capture-3.PNG">
</p>
4) Call updateBalance() function by passing 1000 as the argument for amount. This means that the msg.sender should only be able to withdraw 1000 wei from the smart contract.
<p align="center">
<br><img width="250" src="./Images/Capture-4.PNG">
</p>
You can check the current balance by calling the balances function.
<p align="center">
<br><img width="250" src="./Images/Capture-4.2.PNG">
</p>
5) Call withdraw() by passing argument as 800. 
<p align="center">
<br><img width="250" src="./Images/Capture-5.PNG">
</p>
After withdrawal the remaining withdrawable balance of the msg.sender becomes 200.
<p align="center">
<br><img width="250" src="./Images/Capture-5.2.PNG">
</p>
6) Call withdraw() by passing argument as 300. Arithmetic underflow occurs. You are able to withdraw all the ether from the smart contract.
<p align="center">
      <br><img width="250" src="./Images/Capture-6.0.PNG">
</p>
7) After the withdrawal, Arithmetic Underflow occurs and you can see a very large balance. 
<p align="center">
      <br><img width="250" src="./Images/Capture-6.PNG">
</p>
Thus the require statement always remains true and the attacker also is able to withdraw all the remaining ether.

