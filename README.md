# Arithmetic-Underflow-Vulnerability-in-Smart-Contracts

## Steps to Implement an attack on Vulnerability
1) Set VALUE as 500000000 wei. 
<br><img width="250" align = "center" src="./Images/Capture.PNG">
2) Call sendEtherToSmartContract(). This will send 500000000 wei to the smart contract.
<br><img width="250" src="./Images/Capture-2.png">
      
   Then call the getContractBalance() to see the updated balance of the smart contract. 
<br><img width="250" src="./Images/Capture-1.2.PNG">
3) Switch to another address which contains 100 ether.
<br><img width="250" src="./Images/Capture-3.PNG">
4) Call updateBalance() function by passing 1000 as the argument for amount. This means that the msg.sender should only be able to withdraw 1000 wei from the smart contract.
<br><img width="250" src="./Images/Capture-4.PNG">
You can check the current balance by calling the balances function.
<br><img width="250" src="./Images/Capture-4.2.PNG">
5) Call withdraw() by passing argument as 800. 
<br><img width="250" src="./Images/Capture-5.PNG">
After withdrawal the remaining withdrawable balance of the msg.sender becomes 200.
<br><img width="250" src="./Images/Capture-5.2.PNG">
6) Call withdraw() by passing argument as 300. Arithmetic underflow occurs. You are able to withdraw all the ether from the smart contract.
<br><img width="250" src="./Images/Capture-6.0.PNG">
7) After the withdrawal, Arithmetic Underflow occurs and you can see a very large balance. 
<br><img width="250" src="./Images/Capture-6.PNG">
Thus the require statement always remains true and the attacker also is able to withdraw all the remaining ether.

